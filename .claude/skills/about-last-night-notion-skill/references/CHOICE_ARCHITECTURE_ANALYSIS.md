# About Last Night - Choice Architecture Analysis

## Purpose
Understanding PRESENT TENSE player choices to inform content design that supports meaningful (non-arbitrary) decision-making throughout gameplay.

---

## THE FUNDAMENTAL PATTERN: CONTINUOUS CHOICE ARCHITECTURE

**From mid-Act 0 onward, the game IS a continuous choice architecture where EVERY TOKEN DISCOVERY = DECISION POINT.**

This is not "a choice" - this is THE CORE GAMEPLAY LOOP.

---

## CHOICE POINT TIMELINE (Beat by Beat)

### PRE-GAME: Character Sheet Reception (OOC)
**Players Receive:**
- Character sheet with Memory Inventory
- Name, logline, goal cluster mantra
- Trust pair ("You know you can trust [name]")
- Backstory claims

**Information Architecture Need:**
- Character sheet must provide enough context for ALL subsequent choices
- Trust pairs must be actionable (can find those players)
- Goal cluster mantra must guide interpretation of discoveries
- Backstory claims must be verifiable through gameplay

**NOT a choice point** - but establishes information baseline for all choices

---

### ACT 0: ORIENTATION & SCAFFOLDING

#### Beat 1.1: Detective Introduction
**What Happens:**
- DETECTIVE establishes stakes: Marcus dead, friends missing
- Introduces coat check puzzles as starting point
- Frames investigation approach

**Information Provided:**
- Situation context
- Marcus Blackwood is central figure
- Underground organization "Black Market" exists
- Memory drugs were used

**NOT an explicit choice point** - sets stage for choices to come

---

#### Beat 1.2: Coat Check Puzzle Phase
**What Happens:**
- Players work on coat check puzzles together
- BM (Blake Manley) secretly recruited by Detective to help
- Collaborative problem-solving

**Information Architecture Need:**
- Coat check items MUST provide character hooks before choice pressure begins
- Props/documents (NOT tokens yet) provide narrative grounding
- Players build understanding of their character's past

**NOT an explicit choice point** - scaffolding before choices begin

---

#### Beat 1.2.1: BM's Private Pitch to SARAH
**CHOICE POINT #1** (Sarah only, private):
- BM reveals true identity to Sarah
- Asks for her cooperation in finding 4 specific tokens
- "Can I count on your support?"

**Decision:**
- Cooperate with Blake secretly OR
- Refuse/stay neutral

**Information Need for Meaningful Choice:**
- Does Sarah's character sheet provide context for why she might/might not cooperate?
- Is this decision consistent with her goal cluster (PRAGMATIC)?
- Does she have narrative reasons to distrust authorities?

**Characteristic:** Private, individual, establishes Blake's hidden agenda

---

#### Beat 1.2.2: BM Reveal & Scanner Distribution
**CHOICE POINT #2** (Group, social):
**TEAM FORMATION**: "Figure out who you trust and make some friends"

**Requirements:**
- Form teams of at least Y people
- Everyone must have scanner access through a team
- Submit team roster in writing to Blake

**Decision:**
- Who do I trust enough to team with?
- Which scanner team do I join?

**Information Need for Meaningful Choice:**
- Character sheet lists trust pairs - are these players present?
- Can I find the person my sheet says to trust?
- Do I have enough context about other characters to form teams?

**Critical Design Implication:**
- Trust pairs in character sheets MUST be actionable
- If sheet says "trust X", X must be findable/identifiable
- Need timeline events showing WHY trust exists (not just declared)

---

#### Beat 1.2.4: Blake vs Detective Framework Established
**CHOICE POINT #3** (Framework for all subsequent choices):
**THE CORE CHOICE ARCHITECTURE IS INTRODUCED**

**Blake's Offer:**
- Sell tokens → Get paid per token
- Find 4 specific tokens → Hostages freed
- TIME PRESSURE: Timer started, tokens "degrade"

**Detective's Offer:**
- Expose tokens → Evidence for case, accountability, justice
- "Bring me what you find" to build case wall

**Implicit Third Option:**
- HOLD tokens (players can choose not to sell OR expose)
- Purpose unclear at this point

**Information Asymmetry:**
- Players don't yet know what "degrade" means
- Blake lies about degradation (actually restoration)
- Hold option seems passive/neutral (actually recovery)

**From This Point Forward: EVERY TOKEN = SELL/EXPOSE/HOLD CHOICE**

---

### ACT 1 → ACT 2: THE CONTINUOUS CHOICE LOOP

#### Beat 1.2.5: James' Video → Room 2 Opens
**Progression Trigger** (NOT a choice):
- James' token scanned
- Video shows Marcus entering secret room
- Room 2 unlocked
- More puzzles/tokens accessible

**Effect:** Increases token discovery rate = increases choice frequency

---

### ACT 2: EVERY TOKEN IS A CHOICE POINT

**THE GAMEPLAY LOOP:**

1. **Solve puzzle** → Unlock element (may contain token)
2. **Scan token** → Learn what memory contains (SF_Summary displayed)
3. **MAKE CHOICE:**
   - **SELL to Blake**: Money + contribute to hostage release (if 4 specific found) + lose memory forever
   - **EXPOSE to Detective**: Evidence for case + memory becomes public + gone from you  
   - **HOLD**: Keep token (unclear purpose)

4. **Repeat** for every token discovered

**This Loop Continues Until Timer Expires**

---

#### Beat 2.1.1: CONDITIONAL Mid-Game Reveal
**INFORMATION REVELATION** (Not a choice, but reframes all choices):

**Trigger:** Player brings "reversal token" to Detective

**What's Revealed:**
- Tokens don't "degrade" - they RESTORE when timer expires
- Held tokens return memories to original owners
- Sold tokens are consumed FOREVER
- Blake was lying about degradation

**Effect on Choice Architecture:**
- **HOLD is revealed as RECOVERY strategy** (not passive)
- **SELL is revealed as PERMANENT LOSS** (not just temporary sale)
- **EXPOSE remains**: Public record, evidence, gone from you
- All prior choices reframed retrospectively
- Remaining choices made with full information

**Critical Design Note:**
- This reveal is CONDITIONAL - depends on finding specific token
- If never found, players never learn the truth
- Game designed with information asymmetry that may/may not resolve

---

#### The Blake/Detective Argument After Reveal
**Framework Clarification:**

**Blake admits:**
- "Yes, restoration happens. Fragments, not whole picture."
- "What you sold to me? Gone forever. Consumed."
- "Timer still running. Choose wisely."

**Detective clarifies:**
- "Holding isn't losing - it's recovery."
- "What you sell is gone forever."
- "What you expose, I can use for the case."
- "Choose wisely. And fast."

**The Three Options Now Explicit:**
1. **SELL**: Money + help free hostages + permanent loss of memory
2. **EXPOSE**: Justice + public record + permanent loss of memory  
3. **HOLD**: Recovery of your own memory + no payment + hostages depend on others

---

### ACT 2 END: TIMER EXPIRES - CONSEQUENCES

#### Beat 2.2: Resolution Based on Collective Choices
**THREE POSSIBLE BRANCHES:**

**Branch A: Blake's Demands Met**
- Condition: 4 specific tokens sold to Blake
- Result: Blake releases hostages
- Blake "wins" but players who sold lost memories forever

**Branch B: Detective's Raid Succeeds**
- Condition: Enough tokens exposed for detective to locate hostages
- Result: Detective's team raids location, rescues hostages
- Detective "wins", exposed memories become public case evidence

**Branch C: Holders Trigger Escape**
- Condition: Enough tokens held that restoration wakes hostages
- Result: Hostages wake up with restored memories, walk out
- Holders "win", Blake frustrated

**Restoration Moment:**
- Held tokens restore to owners (fragments of memory return)
- Sold tokens confirmed consumed (permanent loss)
- Exposed tokens remain as case evidence (public record)

**Blake exits, Detective wraps case**

---

## KEY INSIGHTS FOR SKILL DESIGN

### 1. TEAM FORMATION Choice (Beat 1.2.2)
**Information Architecture Need:**
- Character sheets declare trust pairs
- Players must be able to FIND and IDENTIFY trusted persons
- Trust pairs should be GROUNDED in discoverable content (timeline events)
- Without grounding, trust declaration feels arbitrary

**Skill Tool Need:**
- **trust_pair_verification.py**: Check if declared trust pairs have:
  - Timeline events showing shared history
  - Elements evidencing those events
  - Narrative coherence with character sheet claims

---

### 2. CONTINUOUS CHOICE LOOP (Every Token)
**Information Architecture Need:**
- Each token's SF_Summary must provide enough context for choice
- Does summary explain WHAT the memory is?
- Does summary align with character's goal cluster?
- Can player understand significance without full backstory?

**Character Context Need:**
- Do coat check items provide enough hooks BEFORE tokens appear?
- Can player connect token discoveries to character sheet claims?
- Is backstory grounded enough to make token choices meaningful?

**Skill Tool Need:**
- **character_background_cross_reference.py**: Compare character sheet claims to timeline events
  - Which claims are grounded? Which aren't?
  - Does player have enough context before facing token choices?

- **token_design_context_generator.py**: For new token design, provide:
  - Character background relevant to this moment
  - Existing tokens for this character
  - Timeline grounding for this event
  - SF_ field recommendations
  - How this fits goal cluster motivation

---

### 3. GOAL CLUSTER ALIGNMENT
**How Goal Clusters Should Inform Choices:**

**JUSTICE** (Detective-aligned):
- "Someone needs to answer" → Favor EXPOSE
- Should discover evidence of wrongs to expose
- Tokens should reveal corruption, injustice, wrongdoing

**RECOVERY** (Holder-aligned):
- "Get it back" → Favor HOLD (after reveal)
- Should discover evidence of what was taken
- Tokens should show loss, theft, extraction

**COVERUP** (Complex):
- "Must stay hidden" → Might SELL to Blake (bury evidence)
- OR HOLD (keep secrets private)
- Should discover evidence of secrets worth protecting

**PRAGMATIC** (Blake-aligned):
- "Not walking away empty-handed" → Favor SELL
- Should discover evidence of value, leverage, opportunity
- Tokens should show transactional moments, deals

**Skill Need:**
- **sf_field_validator.py**: Check if SF_MemoryType, ValueRating align with:
  - Goal cluster of Owner
  - Narrative content of memory
  - Strategic value for that character's choices

---

### 4. THE "REVERSAL TOKEN" Problem
**Critical Design Issue:**
- Mid-game reveal is CONDITIONAL on finding specific token
- If not found, players never learn Hold = Recovery
- All choices made under false assumption that Hold is passive

**Information Architecture Implication:**
- Some tokens are MECHANICALLY critical (the 4 ransom tokens)
- Some tokens are INFORMATIONALLY critical (reversal token)
- Both types must be DISCOVERABLE despite tier/act/puzzle complexity

**Skill Need:**
- **scaffolding_evaluator.py**: For Core characters, check:
  - Do coat check items provide decision-making hooks?
  - Is early token introduction paced appropriately?
  - Are critical tokens (ransom + reversal) discoverable?

---

### 5. BLAKE'S 4 SPECIFIC TOKENS (Ransom Demand)
**Mechanical Constraint:**
- Oliver Sterling's medical formulations
- James Whitman's memory of Marcus's secret laboratory  
- Howie Sullivan's lecture notes on adaptive collaboration
- Leila Bishara's private collection of algorithms

**Note:** 3 of 4 owned by TERTIARY tier characters

**Design Challenge:**
- Tertiary characters less discoverable (Act 2, 20+ players)
- But these tokens are MECHANICALLY ESSENTIAL for Branch A
- Must be findable despite tier

**Skill Need:**
- When designing tokens for these 4 characters:
  - **token_design_context_generator.py** should flag ransom status
  - SF_Group field should = "Black Market Ransom"
  - Must have clear discovery path (puzzle rewards, container solutions)

---

## CHOICE POINT CATEGORIZATION

### EXPLICIT CHOICES (Script-Driven):
1. **Sarah's cooperation** with Blake (private, one-time)
2. **Team formation** (social, one-time, beginning of choice loop)
3. **Every token: Sell/Expose/Hold** (continuous, many times, until timer)

### IMPLIED CHOICES (Player-Driven):
1. **Puzzle priority**: Which puzzles to solve first?
2. **Information sharing**: Share discoveries with team? Other teams?
3. **Resource allocation**: Puzzle-solving vs token-decision-making focus?
4. **Strategy adaptation**: After mid-game reveal, change approach?
5. **Complete set assembly**: Try to find related tokens for "premium value"?
6. **Ransom token priority**: Focus on Blake's 4 specific tokens vs any tokens?

### META-CHOICES (Emergent):
1. **Trust evolution**: Shift alliances as information changes?
2. **Team cohesion**: Stay aligned or pursue individual goals?
3. **Risk tolerance**: Gamble on rescue methods (Blake/Detective/Hold)?

---

## INFORMATION ARCHITECTURE REQUIREMENTS

### AT CHARACTER SHEET STAGE (Pre-game):
- Clear identity baseline (Name, logline)
- Goal cluster mantra to guide interpretation
- Trust pair actionable (player must be present/findable)
- Backstory claims that will be verifiable
- Emotional context (relationship to Marcus)

### AT COAT CHECK STAGE (Act 0):
- Props/documents (NOT tokens yet) provide character hooks
- 1-2 solid narrative threads player can pursue
- Grounding for character sheet claims
- Context for upcoming team formation choice
- NO choice pressure yet (delays token introduction)

### AT TEAM FORMATION STAGE (Beat 1.2.2):
- Trust pairs from sheet are findable/identifiable
- Enough context about other characters to form teams
- Understanding of why trust exists (not arbitrary)

### AT CONTINUOUS CHOICE STAGE (Act 1-2):
- Each token's SF_Summary provides decision context
- Token content aligns with character narrative
- Goal cluster motivation grounded in discoveries
- Backstory claims evidenced by tokens/timeline
- Multiple tokens per character (not just one choice)

### AT MID-GAME REVEAL STAGE (Beat 2.1.1, conditional):
- "Reversal token" discoverable (not hidden too deeply)
- Reveal reframes choices with full information
- Players can adapt strategy

### AT RESOLUTION STAGE (Beat 2.2):
- Collective choices lead to coherent outcome
- Individual choices have personal consequences (restoration vs permanent loss)
- All three branches viable depending on group strategy

---

## WHAT THE SKILL MUST HELP ME DO

### For Content Gaps:
- Identify which character sheet claims lack timeline grounding
- Identify which trust pairs lack shared timeline events
- Identify which goal cluster motivations lack token evidence

### For Wiring Gaps:
- Find character mentions in elements without relations
- Find timeline events without evidence elements
- Find trust pairs without timeline connections

### For Token Design:
- Generate complete context for creating new tokens
- Validate SF_ field alignments with narrative/cluster
- Identify which characters need more choice opportunities

### For Scaffolding:
- Evaluate if Core characters have adequate coat check hooks
- Check if token introduction is appropriately paced
- Verify critical tokens (ransom + reversal) are discoverable

### The Overarching Goal:
**Ensure players can make MEANINGFUL (non-arbitrary) choices at EVERY decision point, regardless of how they navigate the open-world gameplay.**

---

## REFERENCE: NOT A CHECKLIST

This document is DATA-QUALITY-AGNOSTIC. It describes the CHOICE ARCHITECTURE PATTERN, not current state.

Tools will gather data. Agent will interpret against these patterns. I will decide actions.

The script may change. The pattern remains: **continuous choice architecture where every token = decision point requiring sufficient information for meaningful choice-making.**
