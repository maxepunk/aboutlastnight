<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Playtest Form Test</title>
</head>
<body>
    <h1>Test Playtest Form</h1>
    <div id="status">Loading spot count...</div>
    
    <script>
        // Test fetching spot count
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyzl3LWkETG4XdGgZmgYlmgOwqnjtD02jcRpRROk-Lzd3ig9UTsVP1FEabfuRWeTZwLIg/exec';
        
        async function testFetch() {
            const statusDiv = document.getElementById('status');
            
            try {
                statusDiv.innerHTML = 'Fetching spot count...';
                const response = await fetch(GOOGLE_SCRIPT_URL);
                const data = await response.json();
                
                statusDiv.innerHTML = `
                    <h2>Success! Data received:</h2>
                    <pre>${JSON.stringify(data, null, 2)}</pre>
                    <p>Display would show: ${!data.has_minimum 
                        ? `${data.spots_taken}/${data.minimum_players} Minimum Players Required` 
                        : `${data.spots_remaining} Spots Remaining`}</p>
                `;
            } catch (error) {
                statusDiv.innerHTML = `<h2>Error:</h2><pre>${error.message}</pre>
                <p>Note: This is expected if CORS isn't fully configured yet in Google Apps Script.</p>`;
            }
        }
        
        testFetch();
    </script>
</body>
</html>